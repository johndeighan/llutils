{
  "version": 3,
  "file": "grammar-utils.test.js",
  "sourceRoot": "..\\",
  "sources": [
    "test\\grammar-utils.test.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "# grammar-utils.test.coffee\r\n\r\nimport {\r\n\tundef, defined, notdefined,\r\n\t} from '@jdeighan/llutils'\r\nimport * as lib from '@jdeighan/llutils/grammar-utils'\r\nObject.assign(global, lib)\r\nimport * as lib2 from '@jdeighan/llutils/utest'\r\nObject.assign(global, lib2)\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\n(() =>\r\n\thRule = {\r\n\t\ttype: \"rule\"\r\n\t\thead: \"E\"\r\n\t\tlParts: [\r\n\t\t\tterminal \"P\"\r\n\t\t\tnonterminal \"name\"\r\n\t\t\tterminal \"a\"\r\n\t\t\tnonterminal \"expr\"\r\n\t\t\t]\r\n\t\t}\r\n\tequal ruleAsString(hRule), 'E -> \"P\" name \"a\" expr'\r\n\tequal ruleAsString(hRule, 3), 'E -> \"P\" name \"a\" â€¢ expr'\r\n\t)()\r\n\r\n(() =>\r\n\thAST = {\r\n\t\ttype: \"grammar\"\r\n\t\tlRules: [\r\n\t\t\t{\r\n\t\t\t\ttype: \"rule\"\r\n\t\t\t\thead: \"E\"\r\n\t\t\t\tlParts: [\r\n\t\t\t\t\tnonterminal \"T\"\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: \"rule\"\r\n\t\t\t\thead: \"E\"\r\n\t\t\t\tlParts: [\r\n\t\t\t\t\tnonterminal \"E\"\r\n\t\t\t\t\tterminal    \"+\"\r\n\t\t\t\t\tnonterminal \"T\"\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: \"rule\"\r\n\t\t\t\thead: \"T\"\r\n\t\t\t\tlParts: [\r\n\t\t\t\t\tnonterminal \"P\"\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: \"rule\"\r\n\t\t\t\thead: \"T\"\r\n\t\t\t\tlParts: [\r\n\t\t\t\t\tnonterminal \"T\"\r\n\t\t\t\t\tterminal    \"*\"\r\n\t\t\t\t\tnonterminal \"P\"\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: \"rule\"\r\n\t\t\t\thead: \"P\"\r\n\t\t\t\tlParts: [\r\n\t\t\t\t\tterminal \"a\"\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t]\r\n\t\t}\r\n\r\n\tgrammar = undef\r\n\tsucceeds () =>\r\n\t\tgrammar = new Grammar(hAST)\r\n\ttruthy grammar.isNonTerminal 'E'\r\n\ttruthy grammar.isNonTerminal 'T'\r\n\tfalsy  grammar.isNonTerminal 'X'\r\n\r\n\ttruthy grammar instanceof Grammar\r\n\tequal grammar.root(), \"E\"\r\n\tequal grammar.asString(), \"\"\"\r\n\t\tE -> T\r\n\t\tE -> E \"+\" T\r\n\t\tT -> P\r\n\t\tT -> T \"*\" P\r\n\t\tP -> \"a\"\r\n\t\t\"\"\"\r\n\tnRules = 0\r\n\tfor rule from grammar.alternatives(\"T\")\r\n\t\tnRules = nRules + 1\r\n\t\tequal rule.head, \"T\"\r\n\tequal nRules, 2\r\n\r\n\t# --- T -> T * P\r\n\trx = new RuleEx(grammar.getRule(3), 0)\r\n\r\n\tequal rx.pos, 0\r\n\tsucceeds () => rx.inc()\r\n\tequal rx.pos, 1\r\n\tsucceeds () => rx.inc()\r\n\tsucceeds () => rx.inc()\r\n\tequal rx.pos, 3\r\n\tfails () => rx.inc()\r\n\r\n\tparser = undef\r\n\tsucceeds () => parser = new EarleyParser(hAST)\r\n#\tsucceeds () => parser.parse(\"a+a*a\")\r\n\t)()\r\n\r\n"
  ]
}