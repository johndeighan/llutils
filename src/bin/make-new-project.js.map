{
  "version": 3,
  "file": "make-new-project.js",
  "sourceRoot": "..\\..\\",
  "sources": [
    "src\\bin\\make-new-project.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "# make-new-project.coffee\r\n\r\n# --- Before running, set these environment variables:\r\n#        PROJECT_ROOT_DIR - directory where you add projects\r\n#        PROJECT_PACKAGE_JSON - JSON string or file path\r\n#           - should have 'author' key\r\n#        PROJECT_INSTALLS - comma sep list of pkgs to install\r\n#        PROJECT_DEV_INSTALLS - comma sep list of dev pkgs to install\r\n#        PROJECT_NAME_PREFIX - e.g. '@jdeighan/' to prepend this to proj name\r\n#\r\n#     Usage: mnp <dirname>\r\n#        -c - clear out any existing directory\r\n#        -type=(website|electron|codemirror|parcel)\r\n\r\nimport {\r\n\tundef, defined, notdefined, OL, nonEmpty,\r\n\tassert, words,\r\n\t} from '@jdeighan/llutils'\r\nimport {execCmd} from '@jdeighan/llutils/exec-utils'\r\nimport {getArgs} from '@jdeighan/llutils/cmd-args'\r\nimport {\r\n\tlValidTypes, setProjType, promptForProjType, makeProjDir,\r\n\ttypeSpecificSetup, checkIfInstalled, NodeEnv,\r\n\t} from '@jdeighan/llutils/proj-utils'\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nmain = () =>\r\n\tcheckIfInstalled 'node', 'yarn'\r\n\thArgs = getArgs {\r\n\t\t_: {\r\n\t\t\texactly: 1\r\n\t\t\tdesc: \"<dirname>\"\r\n\t\t\t}\r\n\t\tc: {\r\n\t\t\ttype: 'boolean'\r\n\t\t\tmsg: 'clear out directory if it exists'\r\n\t\t\t}\r\n\t\ttype: {\r\n\t\t\ttype: 'string'\r\n\t\t\tdesc: 'type of project'\r\n\t\t\tmsg: lValidTypes.join('|')\r\n\t\t\t}\r\n\t\t}\r\n\t{_: lNonOptions, c: clear, type} = hArgs\r\n\r\n\tconsole.log \"make-new-project #{type} in dir #{lNonOptions[0]}\"\r\n\r\n\tif defined(type)\r\n\t\tsetProjType(type)\r\n\telse\r\n\t\tawait promptForProjType()\r\n\r\n\tdirname = lNonOptions[0]\r\n\tmakeProjDir dirname, {clear}   # also cd's to proj dir\r\n\r\n\texecCmd \"git init\"\r\n\texecCmd \"git branch -m main\"\r\n\texecCmd \"npm init -y\"\r\n\r\n\tnodeEnv = new NodeEnv('fixPkgJson')\r\n\tnodeEnv.addDependency '@jdeighan/llutils'\r\n\tnodeEnv.addDevDependency 'concurrently'\r\n\tnodeEnv.setField 'description', \"A #{type} app\"\r\n\tnodeEnv.setField 'packageManager', 'yarn@1.22.22'\r\n\tnodeEnv.addFile 'README.md'\r\n\tnodeEnv.addFile '.gitignore'\r\n\tnodeEnv.addFile '.npmrc'\r\n\r\n\t# === Install libraries specified via env vars\r\n\r\n\tenv_installs = process.env.PROJECT_INSTALLS\r\n\tif nonEmpty(env_installs)\r\n\t\tfor pkg in words(env_installs)\r\n\t\t\tnodeEnv.addDependency pkg\r\n\r\n\tenv_dev_installs = process.env.PROJECT_DEV_INSTALLS\r\n\tif nonEmpty(env_dev_installs)\r\n\t\tfor pkg in words(env_dev_installs)\r\n\t\t\tnodeEnv.addDevDependency pkg\r\n\r\n\tnodeEnv.addDevDependency 'coffeescript'\r\n\tnodeEnv.addDevDependency 'ava'\r\n\r\n\ttypeSpecificSetup(nodeEnv)\r\n\tnodeEnv.write_pkg_json()\r\n\tif (type == 'elm')\r\n\t\tconsole.log \"\"\"\r\n\t\t\tPlease run:\r\n\t\t\t\tcd ../#{dirname}\r\n\t\t\t\telm init\r\n\t\t\t\tyarn\r\n\t\t\t\tnpm run dev\r\n\t\t\t\"\"\"\r\n\telse\r\n\t\tconsole.log \"\"\"\r\n\t\t\tPlease run:\r\n\t\t\t\tcd ../#{dirname}\r\n\t\t\t\tyarn\r\n\t\t\t\tnpm run dev\r\n\t\t\t\"\"\"\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nmain()\r\n"
  ]
}