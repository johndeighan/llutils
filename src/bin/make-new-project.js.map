{
  "version": 3,
  "file": "make-new-project.js",
  "sourceRoot": "..\\..\\",
  "sources": [
    "src\\bin\\make-new-project.coffee"
  ],
  "names": [],
  "mappings": "AAYmD;;;;;;;;;;;;;AAAA,IAAA;;AAEnD,OAAA;EACC,KADD;EACQ,OADR;EACiB,UADjB;EAC6B,EAD7B;EACiC,QADjC;EAEC,MAFD;EAES,KAFT;CAAA,MAAA;;AAIA,OAAA;EAAQ,OAAR;CAAA,MAAA;;AACA,OAAA;EAAQ,OAAR;CAAA,MAAA;;AACA,OAAA;EACC,WADD;EACc,iBADd;EACiC,WADjC;EAEC,iBAFD;EAEoB,gBAFpB;EAEsC,OAFtC;CAAA,MAAA,+BARmD;;;AAenD,IAAA,GAAO,KAAA,CAAA,CAAA,GAAA;AACP,MAAA,KAAA,EAAA,OAAA,EAAA,gBAAA,EAAA,YAAA,EAAA,KAAA,EAAA,CAAA,EAAA,CAAA,EAAA,WAAA,EAAA,GAAA,EAAA,IAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,IAAA,EAAA;EAAC,gBAAA,CAAiB,MAAjB,EAAyB,MAAzB;EACA,KAAA,GAAQ,OAAA,CAAQ;IACf,CAAA,EAAG;MACF,OAAA,EAAS,CADP;MAEF,IAAA,EAAM;IAFJ,CADY;IAKf,CAAA,EAAG;MACF,IAAA,EAAM,SADJ;MAEF,GAAA,EAAK;IAFH,CALY;IASf,IAAA,EAAM;MACL,IAAA,EAAM,QADD;MAEL,IAAA,EAAM,iBAFD;MAGL,GAAA,EAAK;IAHA;EATS,CAAR;EAeR,CAAA;IAAC,CAAA,EAAG,WAAJ;IAAiB,CAAA,EAAG,KAApB;IAA2B;EAA3B,CAAA,GAAmC,KAAnC;EAEA,OAAO,CAAC,GAAR,CAAY,4BAAZ;EAEA,IAAG,OAAA,CAAQ,IAAR,CAAH;IACC,WAAA,CAAY,IAAZ,EADD;GAAA,MAAA;IAGC,MAAM,iBAAA,CAAA,EAHP;;EAKA,OAAA,GAAU,WAAW,CAAC,CAAD;EACrB,WAAA,CAAY,OAAZ,EAAqB,CAAC,KAAD,CAArB,EA1BD;EA4BC,OAAA,CAAQ,UAAR;EACA,OAAA,CAAQ,oBAAR;EACA,OAAA,CAAQ,aAAR;EAEA,IAAA,GAAO,IAAI,OAAJ,CAAY,YAAZ;EACP,IAAI,CAAC,aAAL,CAAmB,mBAAnB;EACA,IAAI,CAAC,gBAAL,CAAsB,cAAtB;EACA,IAAI,CAAC,QAAL,CAAc,aAAd,EAA6B,CAAA,EAAA,CAAA,CAAK,IAAL,CAAA,IAAA,CAA7B;EACA,IAAI,CAAC,QAAL,CAAc,gBAAd,EAAgC,cAAhC;EACA,IAAI,CAAC,OAAL,CAAa,WAAb;EACA,IAAI,CAAC,OAAL,CAAa,YAAb;EACA,IAAI,CAAC,OAAL,CAAa,QAAb,EAvCD;;EA2CC,YAAA,GAAe,OAAO,CAAC,GAAG,CAAC;EAC3B,IAAG,QAAA,CAAS,YAAT,CAAH;AACC;IAAA,KAAA,qCAAA;;MACC,IAAI,CAAC,aAAL,CAAmB,GAAnB;IADD,CADD;;EAIA,gBAAA,GAAmB,OAAO,CAAC,GAAG,CAAC;EAC/B,IAAG,QAAA,CAAS,gBAAT,CAAH;AACC;IAAA,KAAA,wCAAA;;MACC,IAAI,CAAC,gBAAL,CAAsB,GAAtB;IADD,CADD;;EAIA,IAAI,CAAC,gBAAL,CAAsB,cAAtB;EACA,IAAI,CAAC,gBAAL,CAAsB,KAAtB;EAEA,iBAAA,CAAkB,IAAlB;EACA,IAAI,CAAC,cAAL,CAAA;SACA,OAAO,CAAC,GAAR,CAAY,CAAA;SAAA,CAAA,CAEA,OAFA,CAAA;;cAAA,CAAZ;AA3DM,EAf4C;;;AAmFnD,IAAA,CAAA",
  "sourcesContent": [
    "# make-new-project.coffee\r\n\r\n# --- Before running, set these environment variables:\r\n#        PROJECT_ROOT_DIR - directory where you add projects\r\n#        PROJECT_PACKAGE_JSON - JSON string or file path\r\n#           - should have 'author' key\r\n#        PROJECT_INSTALLS - comma sep list of pkgs to install\r\n#        PROJECT_DEV_INSTALLS - comma sep list of dev pkgs to install\r\n#        PROJECT_NAME_PREFIX - e.g. '@jdeighan/' to prepend this to proj name\r\n#\r\n#     Usage: mnp <dirname>\r\n#        -c - clear out any existing directory\r\n#        -type=(website|electron|codemirror|parcel)\r\n\r\nimport {\r\n\tundef, defined, notdefined, OL, nonEmpty,\r\n\tassert, words,\r\n\t} from '@jdeighan/llutils'\r\nimport {execCmd} from '@jdeighan/llutils/exec-utils'\r\nimport {getArgs} from '@jdeighan/llutils/cmd-args'\r\nimport {\r\n\tsetProjType, promptForProjType, makeProjDir,\r\n\ttypeSpecificSetup, checkIfInstalled, NodeEnv,\r\n\t} from '@jdeighan/llutils/proj-utils'\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nmain = () =>\r\n\tcheckIfInstalled 'node', 'yarn'\r\n\thArgs = getArgs {\r\n\t\t_: {\r\n\t\t\texactly: 1\r\n\t\t\tdesc: \"<dirname>\"\r\n\t\t\t}\r\n\t\tc: {\r\n\t\t\ttype: 'boolean'\r\n\t\t\tmsg: 'clear out directory if it exists'\r\n\t\t\t}\r\n\t\ttype: {\r\n\t\t\ttype: 'string'\r\n\t\t\tdesc: 'type of project'\r\n\t\t\tmsg: 'website|parcel|vite|electron|codemirror|none'\r\n\t\t\t}\r\n\t\t}\r\n\t{_: lNonOptions, c: clear, type} = hArgs\r\n\r\n\tconsole.log \"Starting make-new-project \"\r\n\r\n\tif defined(type)\r\n\t\tsetProjType(type)\r\n\telse\r\n\t\tawait promptForProjType()\r\n\r\n\tdirname = lNonOptions[0]\r\n\tmakeProjDir dirname, {clear}   # also cd's to proj dir\r\n\r\n\texecCmd \"git init\"\r\n\texecCmd \"git branch -m main\"\r\n\texecCmd \"npm init -y\"\r\n\r\n\tnode = new NodeEnv('fixPkgJson')\r\n\tnode.addDependency '@jdeighan/llutils'\r\n\tnode.addDevDependency 'concurrently'\r\n\tnode.setField 'description', \"A #{type} app\"\r\n\tnode.setField 'packageManager', 'yarn@1.22.22'\r\n\tnode.addFile 'README.md'\r\n\tnode.addFile '.gitignore'\r\n\tnode.addFile '.npmrc'\r\n\r\n\t# === Install libraries specified via env vars\r\n\r\n\tenv_installs = process.env.PROJECT_INSTALLS\r\n\tif nonEmpty(env_installs)\r\n\t\tfor pkg in words(env_installs)\r\n\t\t\tnode.addDependency pkg\r\n\r\n\tenv_dev_installs = process.env.PROJECT_DEV_INSTALLS\r\n\tif nonEmpty(env_dev_installs)\r\n\t\tfor pkg in words(env_dev_installs)\r\n\t\t\tnode.addDevDependency pkg\r\n\r\n\tnode.addDevDependency 'coffeescript'\r\n\tnode.addDevDependency 'ava'\r\n\r\n\ttypeSpecificSetup(node)\r\n\tnode.write_pkg_json()\r\n\tconsole.log \"\"\"\r\n\t\tPlease run:\r\n\t\t   cd ../#{dirname}\r\n\t\t   yarn\r\n\t\t   npm run dev\r\n\t\t\"\"\"\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nmain()\r\n"
  ]
}