{
  "version": 3,
  "file": "make-new-project.js",
  "sourceRoot": "..\\..\\",
  "sources": [
    "src\\bin\\make-new-project.coffee"
  ],
  "names": [],
  "mappings": "AAYmD;;;;;;;;;;;;;AAAA,IAAA;;AAEnD,OAAA;EACC,KADD;EACQ,OADR;EACiB,UADjB;EAC6B,EAD7B;EACiC,QADjC;EAEC,MAFD;EAES,KAFT;EAEgB,OAFhB;CAAA,MAAA;;AAIA,OAAA;EAAQ,OAAR;CAAA,MAAA;;AACA,OAAA;EACC,WADD;EACc,iBADd;EACiC,WADjC;EAEC,iBAFD;EAEoB,YAFpB;CAAA,MAAA;;AAIA,OAAA;EAAQ,OAAR;CAAA,MAAA;;AAEA,OAAO,CAAC,GAAR,CAAY,2BAAZ,EAbmD;;;AAiBnD,IAAA,GAAO,KAAA,CAAA,CAAA,GAAA;AACP,MAAA,KAAA,EAAA,OAAA,EAAA,gBAAA,EAAA,YAAA,EAAA,CAAA,EAAA,CAAA,EAAA,WAAA,EAAA,GAAA,EAAA,IAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,IAAA,EAAA;EAAC,YAAA,CAAa,MAAb;EACA,YAAA,CAAa,MAAb;EACA,CAAA;IACC,CAAA,EAAG,WADJ;IAEC,CAAA,EAAG,KAFJ;IAGC;EAHD,CAAA,GAIK,OAAA,CAAQ;IACZ,CAAA,EAAG;MACF,OAAA,EAAS;IADP,CADS;IAIZ,CAAA,EAAG,SAJS;IAKZ,IAAA,EAAM;EALM,CAAR,CAJL;EAYA,IAAG,OAAA,CAAQ,IAAR,CAAH;IACC,WAAA,CAAY,IAAZ,EADD;GAAA,MAAA;IAGC,MAAM,iBAAA,CAAA,EAHP;;EAKA,OAAA,GAAU,WAAW,CAAC,CAAD;EACrB,WAAA,CAAY,OAAZ,EAAqB,CAAC,KAAD,CAArB,EApBD;EAsBC,OAAA,CAAQ,UAAR;EACA,OAAA,CAAQ,oBAAR;EACA,OAAA,CAAQ,aAAR;EAEA,IAAA,GAAO,IAAI,OAAJ,CAAY,KAAZ;EACP,IAAI,CAAC,QAAL,CAAc,aAAd,EAA6B,CAAA,EAAA,CAAA,CAAK,IAAL,CAAA,IAAA,CAA7B;EACA,IAAI,CAAC,OAAL,CAAa,WAAb;EACA,IAAI,CAAC,OAAL,CAAa,YAAb;EACA,IAAI,CAAC,OAAL,CAAa,QAAb,EA9BD;;EAkCC,YAAA,GAAe,OAAO,CAAC,GAAG,CAAC;EAC3B,IAAG,QAAA,CAAS,YAAT,CAAH;AACC;IAAA,KAAA,qCAAA;;MACC,IAAI,CAAC,aAAL,CAAmB,GAAnB;IADD,CADD;;EAIA,gBAAA,GAAmB,OAAO,CAAC,GAAG,CAAC;EAC/B,IAAG,QAAA,CAAS,gBAAT,CAAH;AACC;IAAA,KAAA,wCAAA;;MACC,IAAI,CAAC,gBAAL,CAAsB,GAAtB;IADD,CADD;;EAIA,IAAI,CAAC,gBAAL,CAAsB,KAAtB;EAEA,iBAAA,CAAkB,IAAlB;EACA,IAAI,CAAC,cAAL,CAAA;SACA,OAAO,CAAC,GAAR,CAAY,CAAA;SAAA,CAAA,CAEA,OAFA,CAAA;;SAAA,CAAZ;AAjDM,EAjB4C;;;AA2EnD,IAAA,CAAA",
  "sourcesContent": [
    "# make-new-project.coffee\r\n\r\n# --- Before running, set these environment variables:\r\n#        PROJECT_ROOT_DIR - directory where you add projects\r\n#        PROJECT_PACKAGE_JSON - JSON string or file path\r\n#           - should have 'author' key\r\n#        PROJECT_INSTALLS - comma sep list of pkgs to install\r\n#        PROJECT_DEV_INSTALLS - comma sep list of dev pkgs to install\r\n#        PROJECT_NAME_PREFIX - e.g. '@jdeighan/' to prepend this to proj name\r\n#\r\n#     Usage: mnp <dirname>\r\n#        -c - clear out any existing directory\r\n#        -type=(website|electron|codemirror|parcel)\r\n\r\nimport {\r\n\tundef, defined, notdefined, OL, nonEmpty,\r\n\tassert, words, execCmd,\r\n\t} from '@jdeighan/llutils'\r\nimport {getArgs} from '@jdeighan/llutils/cmd-args'\r\nimport {\r\n\tsetProjType, promptForProjType, makeProjDir,\r\n\ttypeSpecificSetup, checkInstall,\r\n\t} from '@jdeighan/llutils/proj-utils'\r\nimport {NodeEnv} from '@jdeighan/llutils/node-env'\r\n\r\nconsole.log \"Starting make-new-project\"\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nmain = () =>\r\n\tcheckInstall 'node'\r\n\tcheckInstall 'pnpm'\r\n\t{\r\n\t\t_: lNonOptions,\r\n\t\tc: clear,\r\n\t\ttype\r\n\t\t} = getArgs {\r\n\t\t_: {\r\n\t\t\texactly: 1\r\n\t\t\t}\r\n\t\tc: 'boolean'\r\n\t\ttype: 'string'\r\n\t\t}\r\n\r\n\tif defined(type)\r\n\t\tsetProjType(type)\r\n\telse\r\n\t\tawait promptForProjType()\r\n\r\n\tdirname = lNonOptions[0]\r\n\tmakeProjDir dirname, {clear}   # also cd's to proj dir\r\n\r\n\texecCmd \"git init\"\r\n\texecCmd \"git branch -m main\"\r\n\texecCmd \"npm init -y\"\r\n\r\n\tnode = new NodeEnv('fix')\r\n\tnode.setField 'description', \"A #{type} app\"\r\n\tnode.addFile 'README.md'\r\n\tnode.addFile '.gitignore'\r\n\tnode.addFile '.npmrc'\r\n\r\n\t# === Install libraries specified via env vars\r\n\r\n\tenv_installs = process.env.PROJECT_INSTALLS\r\n\tif nonEmpty(env_installs)\r\n\t\tfor pkg in words(env_installs)\r\n\t\t\tnode.addDependency pkg\r\n\r\n\tenv_dev_installs = process.env.PROJECT_DEV_INSTALLS\r\n\tif nonEmpty(env_dev_installs)\r\n\t\tfor pkg in words(env_dev_installs)\r\n\t\t\tnode.addDevDependency pkg\r\n\r\n\tnode.addDevDependency 'ava'\r\n\r\n\ttypeSpecificSetup(node)\r\n\tnode.write_pkg_json()\r\n\tconsole.log \"\"\"\r\n\t\tPlease run:\r\n\t\t   cd ../#{dirname}\r\n\t\t   pnpm install\r\n\t\t   parcel\r\n\t\t\"\"\"\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nmain()\r\n"
  ]
}