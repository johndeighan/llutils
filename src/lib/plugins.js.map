{
  "version": 3,
  "file": "plugins.js",
  "sourceRoot": "..\\..\\",
  "sources": [
    "src\\lib\\plugins.coffee"
  ],
  "names": [],
  "mappings": "AAAoB;AAEpB,OAAO,OAAP,MAAA;;AACA,OAAO,KAAP,MAAA;;AAEA,OAAA;EACC,KADD;EACQ,OADR;EACiB,UADjB;EAC6B,EAD7B;CAAA,MAAA;;AAGA,OAAA;EAAQ,IAAR;EAAc,OAAd;CAAA,MAAA;;AACA,OAAA;EAAQ,KAAR;CAAA,MAAA,0BAToB;;;AAapB,OAAA,IAAO,KAAA,GAAQ,CAAC,IAAD,CAAA,GAAA;AAEf,MAAA;EAAC,OAAA,GAAU,CAAA,GAAI,KAAJ,CAAA,GAAA;IACT,IAAI,KAAK,CAAC,MAAN,IAAgB,IAAI,CAAC,MAAzB;AACC,aAAO,IAAI,CAAC,KAAL,CAAW,IAAX,EAAiB,KAAjB,EADR;KAAA,MAAA;AAGC,aAAO,CAAA,GAAI,MAAJ,CAAA,GAAA;AACN,eAAO,OAAO,CAAC,KAAR,CAAc,IAAd,EAAoB,KAAK,CAAC,MAAN,CAAa,MAAb,CAApB;MADD,EAHR;;EADS;AAMV,SAAO;AARO,EAbK;;;AAyBpB,OAAA,IAAO,KAAA,GAAQ,CAAC,IAAD,CAAA,GAAA;AAEf,MAAA;EAAC,SAAA,GAAY,CAAC,IAAD,EAAO,GAAP,EAAY,EAAZ,CAAA,GAAA;AAEb,QAAA,QAAA,EAAA,GAAA,EAAA;IAAE,IAAG,IAAI,CAAC,MAAL,CAAA,CAAH;AACC,aAAO,EAAA,CAAG,IAAH,EAAS,IAAT,EADR;;IAGA,IAAG,IAAI,CAAC,QAAL,CAAA,CAAH;MACC,GAAA,GAAM,IAAI,KAAK,CAAC,WAAV,CAAsB,OAAtB,EAA+B,uBAA/B;AACN,aAAO,EAAA,CAAG,GAAH,EAFR;;IAIA,QAAA,GAAW,IAAI,CAAC,QAAQ,CAAC,QAAd,CAAuB,MAAvB;IACX,MAAA,GAAS,IAAA,CAAK,QAAL,EAAe;MAAC,QAAA,EAAU,IAAI,CAAC;IAAhB,CAAf;IACT,IAAI,CAAC,QAAL,GAAgB,IAAI,MAAJ,CAAW,MAAX;WAChB,EAAA,CAAG,IAAH,EAAS,IAAT;EAZW;AAcZ,SAAO,OAAO,CAAC,GAAR,CAAY,SAAZ;AAhBO,EAzBK;;;AA6CpB,OAAA,IAAO,KAAA,GAAQ,CAAA,CAAA,GAAA;AAEd,SAAO,KAAA,CAAM,KAAN,CAAA,CAAc,CAAC,IAAD,EAAO,SAAP,CAAA,GAAA;AACtB,QAAA,QAAA,EAAA,EAAA,EAAA,WAAA,EAAA;IAAE,CAAA,CAAC,WAAD,EAAc,EAAd,EAAkB,SAAlB,CAAA,GAA+B,KAAA,CAAM,IAAN,CAA/B;IACA,QAAA,GAAW,SAAS,CAAC;IACrB,IAAG,QAAH;MACC,IAAA,CAAK,WAAL,EAAkB,OAAA,CAAQ,QAAR,EAAkB,aAAlB,CAAlB;MACA,IAAA,CAAK,SAAA,IAAa,EAAlB,EAAsB,OAAA,CAAQ,QAAR,EAAkB,SAAlB,CAAtB,EAFD;;AAGA,WAAO;EANa,CAAd;AAFO",
  "sourcesContent": [
    "# --- plugins.coffee\r\n\r\nimport through from 'through2'\r\nimport gutil from 'gulp-util'\r\n\r\nimport {\r\n\tundef, defined, notdefined, OL,\r\n\t} from '@jdeighan/llutils'\r\nimport {barf, withExt} from '@jdeighan/llutils/fs'\r\nimport {bless} from '@jdeighan/llutils/cielo'\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nexport curry = (func) =>\r\n\r\n\tcurried = (...lArgs) =>\r\n\t\tif (lArgs.length >= func.length)\r\n\t\t\treturn func.apply(this, lArgs)\r\n\t\telse\r\n\t\t\treturn (...lArgs2) =>\r\n\t\t\t\treturn curried.apply(this, lArgs.concat(lArgs2))\r\n\treturn curried\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nexport trans = (func) =>\r\n\r\n\ttransform = (file, enc, cb) =>\r\n\r\n\t\tif file.isNull()\r\n\t\t\treturn cb(null, file)\r\n\r\n\t\tif file.isStream()\r\n\t\t\terr = new gutil.PluginError('trans', 'Streams not supported')\r\n\t\t\treturn cb(err)\r\n\r\n\t\tcontents = file.contents.toString('utf8')\r\n\t\toutput = func(contents, {filePath: file.path})\r\n\t\tfile.contents = new Buffer(output)\r\n\t\tcb null, file\r\n\r\n\treturn through.obj(transform)\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nexport cielo = () =>\r\n\r\n\treturn curry(trans)( (code, hMetaData) =>\r\n\t\t{preprocCode, js, sourceMap} = bless(code)\r\n\t\tfilePath = hMetaData.filePath\r\n\t\tif filePath\r\n\t\t\tbarf preprocCode, withExt(filePath, '.coffee.txt')\r\n\t\t\tbarf sourceMap || '', withExt(filePath, '.js.map')\r\n\t\treturn js\r\n\t\t)\r\n"
  ]
}