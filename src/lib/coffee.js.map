{
  "version": 3,
  "file": "coffee.js",
  "sourceRoot": "..\\..\\",
  "sources": [
    "src\\lib\\coffee.coffee"
  ],
  "names": [],
  "mappings": "AAAe;AAEf,OAAO,EAAP,MAAA;;AACA,OAAA;EAAQ,OAAR;CAAA,MAAA;;AAEA,OAAA;EACC,IADD;EACO,KADP;EACc,OADd;EACuB,UADvB;EACmC,SADnC;EAC8C,KAD9C;EAEC,MAFD;EAES,KAFT;EAEgB,EAFhB;EAEoB,MAFpB;EAE4B,UAF5B;EAEwC,QAFxC;EAGC,QAHD;EAGW,OAHX;EAGoB,MAHpB;EAG4B,UAH5B;EAGwC,IAHxC;EAG8C,UAH9C;CAAA,MAAA;;AAKA,OAAA;EAAQ,IAAR;CAAA,MAAA;;AACA,OAAA;EAAQ,QAAR;EAAkB,SAAlB;CAAA,MAAA;;AACA,OAAA;EACC,YADD;EACe,IADf;EACqB,OADrB;EAC8B,MAD9B;CAAA,MAAA;;AAGA,OAAA;EAAQ,WAAR;CAAA,MAAA;;AACA,OAAA;EACC,SADD;EACY,kBADZ;CAAA,MAAA;;AAGA,OAAA;EAAQ,eAAR;CAAA,MAAA;;AACA,OAAA;EAAQ,IAAR;EAAc,QAAd;CAAA,MAAA;;AAEA,OAAA;EAAQ,IAAR;EAAc,QAAd;EAtBe;;;AA0Bf,OAAA,IAAO,KAAA,GAAQ,CAAC,UAAD,EAAa,WAAS,CAAA,CAAtB,CAAA,GAAA;AAEf,MAAA,IAAA,EAAA;EAAC,CAAA,CAAC,OAAD,CAAA,GAAY,UAAA,CAAW,QAAX,EAAqB;IAChC,OAAA,EAAS;EADuB,CAArB,CAAZ;EAIA,IAAA,GAAO,OAAA,CAAQ,UAAR,EAAoB;IAAC,GAAA,EAAK;EAAN,CAApB;EACP,IAAG,OAAH;IACC,kBAAA,CAAmB,IAAnB,EADD;;AAEA,SAAO;AATO,EA1BA;;;AAuCf,OAAA,IAAO,SAAA,GAAY,QAAA,CAAC,IAAD,EAAO,QAAP,EAAiB,WAAS,CAAA,CAA1B,CAAA;AAEnB,MAAA;EAAC,IAAA,GAAO,KAAA,CAAM,IAAN,EAAY,QAAZ;EACP,OAAA,CAAQ,IAAR,EAAc,QAAd;AAHkB,EAvCJ;;;;;;AAkDf,OAAA,IAAO,UAAA,GAAa,CAAC,IAAD,EAAO,WAAS,CAAA,CAAhB,CAAA,GAAA;AAEpB,MAAA,QAAA,EAAA,CAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA;EAAC,IAAG,QAAA,CAAS,IAAT,CAAH;IACC,IAAA,GAAO,KAAA,CAAM,IAAN,EADR;;EAEA,MAAA,GAAS,IAAI,SAAJ,CAAc,QAAd,CAAuB,CAAC,IAAxB,CAA6B,IAA7B,EAFV;;EAKC,QAAA,GAAW,CAAA;AACX;EAAA,KAAA,qCAAA;;IACC,QAAQ,CAAC,GAAD,CAAR,GAAgB,KAAK,CAAC,IAAN,CAAW,MAAM,CAAC,QAAQ,CAAC,GAAD,CAAK,CAAC,MAArB,CAAA,CAAX;EADjB;AAGA,SAAO;IACN,IADM;IAEN,KAAA,EAAO,MAAM,CAAC,QAAP,CAAA,CAFD;IAGN,QAHM;IAIN,QAAA,EAAU,KAAK,CAAC,IAAN,CAAW,MAAM,CAAC,UAAU,CAAC,MAAlB,CAAA,CAAX,CAJJ;IAKN,KAAA,EAAO,KAAK,CAAC,IAAN,CAAW,MAAM,CAAC,OAAO,CAAC,MAAf,CAAA,CAAX,CALD;IAMN,QAAA,EAAU,KAAK,CAAC,IAAN,CAAW,MAAM,CAAC,UAAP,CAAA,CAAmB,CAAC,MAApB,CAAA,CAAX;EANJ;AAXY",
  "sourcesContent": [
    "# coffee.coffee\r\n\r\nimport fs from 'fs'\r\nimport {compile} from 'coffeescript'\r\n\r\nimport {\r\n\tpass, undef, defined, notdefined, gen2block, words,\r\n\tassert, croak, OL, dclone, getOptions, listdiff,\r\n\tisString, isArray, isHash, isFunction, keys, removeKeys,\r\n\t} from '@jdeighan/llutils'\r\nimport {DUMP} from '@jdeighan/llutils/dump'\r\nimport {indented, splitLine} from '@jdeighan/llutils/indent'\r\nimport {\r\n\treadTextFile, barf, withExt, isFile,\r\n\t} from '@jdeighan/llutils/fs'\r\nimport {LineFetcher} from '@jdeighan/llutils/fetcher'\r\nimport {\r\n\tASTWalker, removeExtraASTKeys,\r\n\t} from '@jdeighan/llutils/ast-walker'\r\nimport {replaceHereDocs} from '@jdeighan/llutils/heredoc'\r\nimport {brew, brewFile} from '@jdeighan/llutils/llcoffee'\r\n\r\nexport {brew, brewFile}\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nexport toAST = (coffeeCode, hOptions={}) =>\r\n\r\n\t{minimal} = getOptions hOptions, {\r\n\t\tminimal: false\r\n\t\t}\r\n\r\n\thAST = compile(coffeeCode, {ast: true})\r\n\tif minimal\r\n\t\tremoveExtraASTKeys hAST\r\n\treturn hAST\r\n\r\n# ---------------------------------------------------------------------------\r\n\r\nexport toASTFile = (code, filePath, hOptions={}) ->\r\n\r\n\thAST = toAST(code, hOptions)\r\n\tbarfAST hAST, filePath\r\n\treturn\r\n\r\n# ---------------------------------------------------------------------------\r\n# --- Valid options:\r\n#        debug - extensive debugging\r\n#        hDumpNode - { <nodeType>: true, ... }\r\n\r\nexport coffeeInfo = (hAST, hOptions={}) =>\r\n\r\n\tif isString(hAST)\r\n\t\thAST = toAST(hAST)\r\n\twalker = new ASTWalker(hOptions).walk(hAST)\r\n\r\n\t# --- Convert sets to arrays\r\n\thImports = {}\r\n\tfor src in keys(walker.hImports)\r\n\t\thImports[src] = Array.from(walker.hImports[src].values())\r\n\r\n\treturn {\r\n\t\thAST\r\n\t\ttrace: walker.getTrace()\r\n\t\thImports\r\n\t\tlExports: Array.from(walker.setExports.values())\r\n\t\tlUsed: Array.from(walker.setUsed.values())\r\n\t\tlMissing: Array.from(walker.getMissing().values())\r\n\t\t}\r\n"
  ]
}